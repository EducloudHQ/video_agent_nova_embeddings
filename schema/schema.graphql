schema {
  mutation: Mutation
  query:Query
  subscription:Subscription

}

type Query {
  testQuery: String
}

type Mutation {
  search(text: String!): Boolean! @aws_api_key
  approveVideo(
    status: String!
    message: String
    callbackId: String!
  ): Boolean! @aws_api_key
  
  
  updateVideoStatus(
    requestId: String!
    status: String!
    message: String
    callbackId: String
    videoUrl: String
  ): VideoStatus @aws_iam @aws_api_key
}

type Subscription {
  onVideoStatusUpdate: VideoStatus
    @aws_subscribe(mutations: ["updateVideoStatus"])
}

type VideoStatus @aws_iam @aws_api_key {
  requestId: String!
  status: String!
  message: String
  callbackId: String
  videoUrl: String
}

