{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.232.1"},"children":{"VideoAiAgentCdkStack":{"id":"VideoAiAgentCdkStack","path":"VideoAiAgentCdkStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.232.1"},"children":{"AppSyncConstruct":{"id":"AppSyncConstruct","path":"VideoAiAgentCdkStack/AppSyncConstruct","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"VectorBucketKey":{"id":"VectorBucketKey","path":"VideoAiAgentCdkStack/AppSyncConstruct/VectorBucketKey","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Key","version":"2.232.1","metadata":[{"description":"*","enableKeyRotation":true}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VectorBucketKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnKey","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"description":"KMS key for S3 vector bucket encryption","enableKeyRotation":true,"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":"arn:aws:iam::132260253285:root"},"Resource":"*"},{"Action":["kms:Decrypt","kms:DescribeKey","kms:GenerateDataKey"],"Effect":"Allow","Principal":{"Service":"indexing.s3vectors.amazonaws.com"},"Resource":"*"}],"Version":"2012-10-17"}}}}}},"VideoMediaBucket":{"id":"VideoMediaBucket","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoMediaBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.232.1","metadata":[{"bucketName":"*","removalPolicy":"retain","blockPublicAccess":"*","encryption":"S3_MANAGED","versioned":true,"lifecycleRules":[{"id":"*","enabled":true}]},{"addLifecycleRule":[{"id":"*","enabled":true},"*","*"]}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoMediaBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"132260253285-us-east-1-video-media-bucket","lifecycleConfiguration":{"rules":[{"id":"DeleteOldVersions","noncurrentVersionExpiration":{"noncurrentDays":30},"status":"Enabled"}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"versioningConfiguration":{"status":"Enabled"}}}},"Notifications":{"id":"Notifications","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoMediaBucket/Notifications","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoMediaBucket/Notifications/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}},"AllowBucketNotificationsToVideoAiAgentCdkStackAppSyncConstructinvokeWorkflowFunction834313E2":{"id":"AllowBucketNotificationsToVideoAiAgentCdkStackAppSyncConstructinvokeWorkflowFunction834313E2","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoMediaBucket/AllowBucketNotificationsToVideoAiAgentCdkStackAppSyncConstructinvokeWorkflowFunction834313E2","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AppSyncConstructinvokeWorkflowFunctionDEBAFE14","Arn"]},"principal":"s3.amazonaws.com","sourceAccount":"132260253285","sourceArn":{"Fn::GetAtt":["AppSyncConstructVideoMediaBucket48B42D33","Arn"]}}}}}},"VideoAgentVectorBucket":{"id":"VideoAgentVectorBucket","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket","constructInfo":{"fqn":"cdk-s3-vectors.Bucket","version":"0.2.2"},"children":{"S3VectorsBucketHandler":{"id":"S3VectorsBucketHandler","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsBucketHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.232.1","metadata":[{"runtime":"*","handler":"*","code":"*","timeout":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsBucketHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsBucketHandler/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":["*"]}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsBucketHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsBucketHandler/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsBucketHandler/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"s3vectors:CreateVectorBucket","Effect":"Allow","Resource":"*"},{"Action":["s3vectors:DeleteIndex","s3vectors:DeleteVectorBucket","s3vectors:ListIndexes"],"Effect":"Allow","Resource":"arn:aws:s3vectors:us-east-1:132260253285:bucket/video-agent-vector-bucket"},{"Action":["kms:Decrypt","kms:DescribeKey","kms:GenerateDataKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["AppSyncConstructVectorBucketKeyA25EBCD0","Arn"]}}],"Version":"2012-10-17"},"policyName":"AppSyncConstructVideoAgentVectorBucketS3VectorsBucketHandlerServiceRoleDefaultPolicy7241EC10","roles":[{"Ref":"AppSyncConstructVideoAgentVectorBucketS3VectorsBucketHandlerServiceRole9CF54A77"}]}}}}}}},"Code":{"id":"Code","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsBucketHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.232.1"},"children":{"Stage":{"id":"Stage","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsBucketHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"AssetBucket":{"id":"AssetBucket","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsBucketHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.232.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsBucketHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-132260253285-us-east-1","s3Key":"8781d893470b333e7b602c24cc571099b19860f20e73e30a03b5c1a028238e37.zip"},"handler":"s3-vectors-create-bucket.handler","role":{"Fn::GetAtt":["AppSyncConstructVideoAgentVectorBucketS3VectorsBucketHandlerServiceRole9CF54A77","Arn"]},"runtime":"nodejs22.x","timeout":300}}},"LogGroup":{"id":"LogGroup","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsBucketHandler/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.232.1","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsBucketHandler/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"AppSyncConstructVideoAgentVectorBucketS3VectorsBucketHandlerB6F9FA4A"}]]},"retentionInDays":731}}}}}}},"S3VectorsProvider":{"id":"S3VectorsProvider","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsProvider","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.Provider","version":"2.232.1"},"children":{"framework-onEvent":{"id":"framework-onEvent","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsProvider/framework-onEvent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.232.1","metadata":[{"code":"*","description":"*","runtime":"*","handler":"*","timeout":"*","loggingFormat":"JSON","applicationLogLevelV2":"FATAL","logGroup":"*","vpc":"*","vpcSubnets":"*","securityGroups":"*","role":"*","functionName":"*","environmentEncryption":"*"},{"addEnvironment":["*","*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsProvider/framework-onEvent/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsProvider/framework-onEvent/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":["*"]}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsProvider/framework-onEvent/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsProvider/framework-onEvent/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsProvider/framework-onEvent/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["AppSyncConstructVideoAgentVectorBucketS3VectorsBucketHandlerB6F9FA4A","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["AppSyncConstructVideoAgentVectorBucketS3VectorsBucketHandlerB6F9FA4A","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":{"Fn::GetAtt":["AppSyncConstructVideoAgentVectorBucketS3VectorsBucketHandlerB6F9FA4A","Arn"]}}],"Version":"2012-10-17"},"policyName":"AppSyncConstructVideoAgentVectorBucketS3VectorsProviderframeworkonEventServiceRoleDefaultPolicyB55FE35A","roles":[{"Ref":"AppSyncConstructVideoAgentVectorBucketS3VectorsProviderframeworkonEventServiceRole8F5C810A"}]}}}}}}},"Code":{"id":"Code","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsProvider/framework-onEvent/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.232.1"},"children":{"Stage":{"id":"Stage","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsProvider/framework-onEvent/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"AssetBucket":{"id":"AssetBucket","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsProvider/framework-onEvent/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.232.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsProvider/framework-onEvent/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-132260253285-us-east-1","s3Key":"bdc104ed9cab1b5b6421713c8155f0b753380595356f710400609664d3635eca.zip"},"description":"AWS CDK resource provider framework - onEvent (VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsProvider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["AppSyncConstructVideoAgentVectorBucketS3VectorsBucketHandlerB6F9FA4A","Arn"]}}},"handler":"framework.onEvent","loggingConfig":{"logFormat":"JSON","applicationLogLevel":"FATAL"},"role":{"Fn::GetAtt":["AppSyncConstructVideoAgentVectorBucketS3VectorsProviderframeworkonEventServiceRole8F5C810A","Arn"]},"runtime":"nodejs22.x","timeout":900}}},"LogGroup":{"id":"LogGroup","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsProvider/framework-onEvent/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.232.1","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/S3VectorsProvider/framework-onEvent/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"AppSyncConstructVideoAgentVectorBucketS3VectorsProviderframeworkonEventB8AECA51"}]]},"retentionInDays":731}}}}}}}}},"VectorBucketCustomResource":{"id":"VectorBucketCustomResource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/VectorBucketCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.232.1","metadata":["*","*","*","*","*"]},"children":{"Default":{"id":"Default","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorBucket/VectorBucketCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}}}},"VideoAgentVectorIndex":{"id":"VideoAgentVectorIndex","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex","constructInfo":{"fqn":"cdk-s3-vectors.Index","version":"0.2.2"},"children":{"S3VectorsHandler":{"id":"S3VectorsHandler","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.232.1","metadata":[{"runtime":"*","handler":"*","code":"*","timeout":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsHandler/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":["*"]}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsHandler/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsHandler/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3vectors:CreateIndex","s3vectors:DeleteIndex"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:s3vectors:us-east-1:132260253285:bucket/",{"Fn::GetAtt":["AppSyncConstructVideoAgentVectorBucketVectorBucketCustomResourceDACBE238","VectorBucketName"]},"/index/video-agent-vector-index"]]}},{"Action":["kms:Decrypt","kms:DescribeKey","kms:GenerateDataKey"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"AppSyncConstructVideoAgentVectorIndexS3VectorsHandlerServiceRoleDefaultPolicyAF81F80A","roles":[{"Ref":"AppSyncConstructVideoAgentVectorIndexS3VectorsHandlerServiceRole01EB414C"}]}}}}}}},"Code":{"id":"Code","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.232.1"},"children":{"Stage":{"id":"Stage","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"AssetBucket":{"id":"AssetBucket","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.232.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-132260253285-us-east-1","s3Key":"8781d893470b333e7b602c24cc571099b19860f20e73e30a03b5c1a028238e37.zip"},"handler":"s3-vectors-create-index.handler","role":{"Fn::GetAtt":["AppSyncConstructVideoAgentVectorIndexS3VectorsHandlerServiceRole01EB414C","Arn"]},"runtime":"nodejs22.x","timeout":300}}},"LogGroup":{"id":"LogGroup","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsHandler/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.232.1","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsHandler/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"AppSyncConstructVideoAgentVectorIndexS3VectorsHandlerA03C4967"}]]},"retentionInDays":731}}}}}}},"S3VectorsProvider":{"id":"S3VectorsProvider","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsProvider","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.Provider","version":"2.232.1"},"children":{"framework-onEvent":{"id":"framework-onEvent","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsProvider/framework-onEvent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.232.1","metadata":[{"code":"*","description":"*","runtime":"*","handler":"*","timeout":"*","loggingFormat":"JSON","applicationLogLevelV2":"FATAL","logGroup":"*","vpc":"*","vpcSubnets":"*","securityGroups":"*","role":"*","functionName":"*","environmentEncryption":"*"},{"addEnvironment":["*","*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsProvider/framework-onEvent/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsProvider/framework-onEvent/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":["*"]}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsProvider/framework-onEvent/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsProvider/framework-onEvent/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsProvider/framework-onEvent/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["AppSyncConstructVideoAgentVectorIndexS3VectorsHandlerA03C4967","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["AppSyncConstructVideoAgentVectorIndexS3VectorsHandlerA03C4967","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":{"Fn::GetAtt":["AppSyncConstructVideoAgentVectorIndexS3VectorsHandlerA03C4967","Arn"]}}],"Version":"2012-10-17"},"policyName":"AppSyncConstructVideoAgentVectorIndexS3VectorsProviderframeworkonEventServiceRoleDefaultPolicy2EA2189E","roles":[{"Ref":"AppSyncConstructVideoAgentVectorIndexS3VectorsProviderframeworkonEventServiceRole7A24CDED"}]}}}}}}},"Code":{"id":"Code","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsProvider/framework-onEvent/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.232.1"},"children":{"Stage":{"id":"Stage","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsProvider/framework-onEvent/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"AssetBucket":{"id":"AssetBucket","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsProvider/framework-onEvent/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.232.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsProvider/framework-onEvent/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-132260253285-us-east-1","s3Key":"bdc104ed9cab1b5b6421713c8155f0b753380595356f710400609664d3635eca.zip"},"description":"AWS CDK resource provider framework - onEvent (VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsProvider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["AppSyncConstructVideoAgentVectorIndexS3VectorsHandlerA03C4967","Arn"]}}},"handler":"framework.onEvent","loggingConfig":{"logFormat":"JSON","applicationLogLevel":"FATAL"},"role":{"Fn::GetAtt":["AppSyncConstructVideoAgentVectorIndexS3VectorsProviderframeworkonEventServiceRole7A24CDED","Arn"]},"runtime":"nodejs22.x","timeout":900}}},"LogGroup":{"id":"LogGroup","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsProvider/framework-onEvent/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.232.1","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorsProvider/framework-onEvent/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"AppSyncConstructVideoAgentVectorIndexS3VectorsProviderframeworkonEvent0383A473"}]]},"retentionInDays":731}}}}}}}}},"S3VectorIndexCustomResource":{"id":"S3VectorIndexCustomResource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorIndexCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.232.1","metadata":["*","*","*"]},"children":{"Default":{"id":"Default","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentVectorIndex/S3VectorIndexCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}}}},"video-agent-api":{"id":"video-agent-api","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.GraphqlApi","version":"2.232.1","metadata":[{"name":"*","definition":"*","authorizationConfig":{"defaultAuthorization":{"authorizationType":"API_KEY","apiKeyConfig":{"name":"*","description":"*","expires":"*"}}},"xrayEnabled":true,"logConfig":{"fieldLogLevel":"ALL"}},{"addSchemaDependency":["*"]},{"addEnvironmentVariable":["*","*"]}]},"children":{"ApiLogsRole":{"id":"ApiLogsRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/ApiLogsRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[]},"children":{"ImportApiLogsRole":{"id":"ImportApiLogsRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/ApiLogsRole/ImportApiLogsRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":["*"]}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/ApiLogsRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSAppSyncPushToCloudWatchLogs"]]}]}}}}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnGraphQLApi","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::GraphQLApi","aws:cdk:cloudformation:props":{"authenticationType":"API_KEY","environmentVariables":{"FOUNDATION_MODEL_ARN":"arn:aws:bedrock:us-east-1::foundation-model/anthropic.claude-3-5-sonnet-20240620-v1:0"},"logConfig":{"cloudWatchLogsRoleArn":{"Fn::GetAtt":["AppSyncConstructvideoagentapiApiLogsRoleDF6BB798","Arn"]},"fieldLogLevel":"ALL"},"name":"VideoAgentAPI","xrayEnabled":true}}},"Schema":{"id":"Schema","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/Schema","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnGraphQLSchema","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::GraphQLSchema","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["AppSyncConstructvideoagentapi25C4D16D","ApiId"]},"definition":"schema {\n  mutation: Mutation\n  query:Query\n\n}\n\ntype Query {\n  testQuery: String\n}\n\ntype Mutation {\n  search(text: String!): Boolean! @aws_api_key\n\n}\n\n"}}},"defaultApiKey":{"id":"defaultApiKey","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/defaultApiKey","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnApiKey","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::ApiKey","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["AppSyncConstructvideoagentapi25C4D16D","ApiId"]},"description":"Default API key for Ai Writer API","expires":1766202117}}},"LogRetention":{"id":"LogRetention","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.232.1"},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}},"LogGroup":{"id":"LogGroup","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"None":{"id":"None","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/None","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.NoneDataSource","version":"2.232.1"},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/None/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["AppSyncConstructvideoagentapi25C4D16D","ApiId"]},"name":"None","type":"NONE"}}}}},"BedrockRetrieveAndGenerateDS":{"id":"BedrockRetrieveAndGenerateDS","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/BedrockRetrieveAndGenerateDS","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.HttpDataSource","version":"2.232.1"},"children":{"ServiceRole":{"id":"ServiceRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/BedrockRetrieveAndGenerateDS/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/BedrockRetrieveAndGenerateDS/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":["*"]}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/BedrockRetrieveAndGenerateDS/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"}}}}}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/BedrockRetrieveAndGenerateDS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["AppSyncConstructvideoagentapi25C4D16D","ApiId"]},"httpConfig":{"endpoint":"https://bedrock-agent-runtime.us-east-1.amazonaws.com","authorizationConfig":{"authorizationType":"AWS_IAM","awsIamConfig":{"signingRegion":"us-east-1","signingServiceName":"bedrock"}}},"name":"BedrockRetrieveAndGenerateDS","serviceRoleArn":{"Fn::GetAtt":["AppSyncConstructvideoagentapiBedrockRetrieveAndGenerateDSServiceRoleA2C17AA4","Arn"]},"type":"HTTP"}}}}},"invokeSearchCutWorkflowFunction":{"id":"invokeSearchCutWorkflowFunction","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/invokeSearchCutWorkflowFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.232.1"},"children":{"ServiceRole":{"id":"ServiceRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/invokeSearchCutWorkflowFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/invokeSearchCutWorkflowFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":["*"]}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/invokeSearchCutWorkflowFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/invokeSearchCutWorkflowFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/invokeSearchCutWorkflowFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["AppSyncConstructinvokeSearchCutWorkflowFunctionB89EE297","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["AppSyncConstructinvokeSearchCutWorkflowFunctionB89EE297","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"AppSyncConstructvideoagentapiinvokeSearchCutWorkflowFunctionServiceRoleDefaultPolicy0DF94302","roles":[{"Ref":"AppSyncConstructvideoagentapiinvokeSearchCutWorkflowFunctionServiceRoleCA06BFFE"}]}}}}}}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/invokeSearchCutWorkflowFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["AppSyncConstructvideoagentapi25C4D16D","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["AppSyncConstructinvokeSearchCutWorkflowFunctionB89EE297","Arn"]}},"name":"invokeSearchCutWorkflowFunction","serviceRoleArn":{"Fn::GetAtt":["AppSyncConstructvideoagentapiinvokeSearchCutWorkflowFunctionServiceRoleCA06BFFE","Arn"]},"type":"AWS_LAMBDA"}}}}},"invokeSearchCutWorkflowFunctionResolver":{"id":"invokeSearchCutWorkflowFunctionResolver","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/invokeSearchCutWorkflowFunctionResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.232.1"},"children":{"Code":{"id":"Code","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/invokeSearchCutWorkflowFunctionResolver/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.232.1"},"children":{"Stage":{"id":"Stage","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/invokeSearchCutWorkflowFunctionResolver/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"AssetBucket":{"id":"AssetBucket","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/invokeSearchCutWorkflowFunctionResolver/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.232.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/video-agent-api/invokeSearchCutWorkflowFunctionResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["AppSyncConstructvideoagentapi25C4D16D","ApiId"]},"codeS3Location":"s3://cdk-hnb659fds-assets-132260253285-us-east-1/cad068c0478cc7ef1a90da1d6e676e907208635f9a2c7737d021f99e58e7546d.js","dataSourceName":"invokeSearchCutWorkflowFunction","fieldName":"search","kind":"UNIT","runtime":{"name":"APPSYNC_JS","runtimeVersion":"1.0.0"},"typeName":"Mutation"}}}}}}},"workflowFunctionLogs":{"id":"workflowFunctionLogs","path":"VideoAiAgentCdkStack/AppSyncConstruct/workflowFunctionLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.232.1","metadata":[{"retention":7}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/workflowFunctionLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":7}}}}},"embeddingsFunctionLogs":{"id":"embeddingsFunctionLogs","path":"VideoAiAgentCdkStack/AppSyncConstruct/embeddingsFunctionLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.232.1","metadata":[{"retention":7}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/embeddingsFunctionLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":7}}}}},"invokeWorkflowFunctionLogs":{"id":"invokeWorkflowFunctionLogs","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeWorkflowFunctionLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.232.1","metadata":[{"retention":7}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeWorkflowFunctionLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":7}}}}},"saveEmbeddingsFunction":{"id":"saveEmbeddingsFunction","path":"VideoAiAgentCdkStack/AppSyncConstruct/saveEmbeddingsFunction","constructInfo":{"fqn":"@aws-cdk/aws-lambda-python-alpha.PythonFunction","version":"2.232.1-alpha.0","metadata":["*","*","*","*","*"]},"children":{"ServiceRole":{"id":"ServiceRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/saveEmbeddingsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/saveEmbeddingsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":["*"]}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/saveEmbeddingsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"VideoAiAgentCdkStack/AppSyncConstruct/saveEmbeddingsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/saveEmbeddingsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":["s3:GetObject","s3:ListBucket"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["AppSyncConstructVideoMediaBucket48B42D33","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["AppSyncConstructVideoMediaBucket48B42D33","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"AppSyncConstructsaveEmbeddingsFunctionServiceRoleDefaultPolicy24DF5681","roles":[{"Ref":"AppSyncConstructsaveEmbeddingsFunctionServiceRoleBAFD7617"}]}}}}}}},"Code":{"id":"Code","path":"VideoAiAgentCdkStack/AppSyncConstruct/saveEmbeddingsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.232.1"},"children":{"Stage":{"id":"Stage","path":"VideoAiAgentCdkStack/AppSyncConstruct/saveEmbeddingsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"AssetBucket":{"id":"AssetBucket","path":"VideoAiAgentCdkStack/AppSyncConstruct/saveEmbeddingsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.232.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/saveEmbeddingsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-132260253285-us-east-1","s3Key":"48e8bfbb18f3ae589518d9b38a04c658dbd942f28b65c190f482bfe74d264db3.zip"},"environment":{"variables":{"VECTOR_BUCKET_NAME":{"Fn::GetAtt":["AppSyncConstructVideoAgentVectorBucketVectorBucketCustomResourceDACBE238","VectorBucketName"]},"VECTOR_INDEX_NAME":"video-agent-vector-index","SOURCE_BUCKET_NAME":{"Ref":"AppSyncConstructVideoMediaBucket48B42D33"}}},"handler":"save_embeddings.lambda_handler","loggingConfig":{"logGroup":{"Ref":"AppSyncConstructembeddingsFunctionLogsBF1936BD"}},"memorySize":512,"role":{"Fn::GetAtt":["AppSyncConstructsaveEmbeddingsFunctionServiceRoleBAFD7617","Arn"]},"runtime":"python3.13","timeout":600,"tracingConfig":{"mode":"Active"}}}}}},"StateMachineRole":{"id":"StateMachineRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/StateMachineRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportStateMachineRole":{"id":"ImportStateMachineRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/StateMachineRole/ImportStateMachineRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":["*"]}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/StateMachineRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"},"description":"IAM Role assumed by the Step Functions state machine","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"VideoAiAgentCdkStack/AppSyncConstruct/StateMachineRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/StateMachineRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:InvokeModel","bedrock:getAsyncInvoke","bedrock:startAsyncInvoke","logs:CreateLogDelivery","logs:DeleteLogDelivery","logs:DescribeLogGroups","logs:DescribeResourcePolicies","logs:GetLogDelivery","logs:ListLogDeliveries","logs:PutResourcePolicy","logs:UpdateLogDelivery","xray:GetSamplingRules","xray:GetSamplingTargets","xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["AppSyncConstructVideoMediaBucket48B42D33","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["AppSyncConstructVideoMediaBucket48B42D33","Arn"]},"/*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":{"Fn::GetAtt":["AppSyncConstructsaveEmbeddingsFunction3376A50F","Arn"]}}],"Version":"2012-10-17"},"policyName":"AppSyncConstructStateMachineRoleDefaultPolicy4CF19D37","roles":[{"Ref":"AppSyncConstructStateMachineRoleB3F28CC6"}]}}}}}}},"WithContextLogGroup":{"id":"WithContextLogGroup","path":"VideoAiAgentCdkStack/AppSyncConstruct/WithContextLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.232.1","metadata":[{"logGroupName":"*","retention":7,"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/WithContextLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/stepfunctions/GenerateEmbeddingsStateMachine","retentionInDays":7}}}}},"GenerateEmbeddingsStateMachine":{"id":"GenerateEmbeddingsStateMachine","path":"VideoAiAgentCdkStack/AppSyncConstruct/GenerateEmbeddingsStateMachine","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.StateMachine","version":"2.232.1","metadata":[{"stateMachineName":"*","role":"*","definitionBody":"*","definitionSubstitutions":"*","tracingEnabled":true,"logs":{"destination":"*","level":"ALL"}},{"addToRolePolicy":[{}]},{"addToRolePolicy":[{}]}]},"children":{"DefinitionBody":{"id":"DefinitionBody","path":"VideoAiAgentCdkStack/AppSyncConstruct/GenerateEmbeddingsStateMachine/DefinitionBody","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.232.1"},"children":{"Stage":{"id":"Stage","path":"VideoAiAgentCdkStack/AppSyncConstruct/GenerateEmbeddingsStateMachine/DefinitionBody/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"AssetBucket":{"id":"AssetBucket","path":"VideoAiAgentCdkStack/AppSyncConstruct/GenerateEmbeddingsStateMachine/DefinitionBody/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.232.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/GenerateEmbeddingsStateMachine/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.CfnStateMachine","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::StepFunctions::StateMachine","aws:cdk:cloudformation:props":{"definitionS3Location":{"bucket":"cdk-hnb659fds-assets-132260253285-us-east-1","key":"6a6bc9bf59c4e8b17f122ecfa1422e8fe6382d1fc058a939824ca68bac93d9a4.json"},"definitionSubstitutions":{"FUNCTION_ARN":{"Fn::GetAtt":["AppSyncConstructsaveEmbeddingsFunction3376A50F","Arn"]}},"loggingConfiguration":{"destinations":[{"cloudWatchLogsLogGroup":{"logGroupArn":{"Fn::GetAtt":["AppSyncConstructWithContextLogGroup7E38E79B","Arn"]}}}],"level":"ALL"},"roleArn":{"Fn::GetAtt":["AppSyncConstructStateMachineRoleB3F28CC6","Arn"]},"stateMachineName":"GenerateEmbeddingsStateMachine","tracingConfiguration":{"enabled":true}}}}}},"invokeWorkflowFunction":{"id":"invokeWorkflowFunction","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeWorkflowFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.232.1","metadata":[{"entry":"*","handler":"*","runtime":"*","memorySize":"*","logGroup":"*","tracing":"Active","environment":"*","bundling":{"minify":true},"code":"*"},{},{},{"entry":"*","handler":"*","runtime":"*","memorySize":"*","logGroup":"*","tracing":"Active","environment":"*","bundling":{"minify":true}}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeWorkflowFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeWorkflowFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":["*"]}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeWorkflowFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeWorkflowFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeWorkflowFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["AppSyncConstructVideoMediaBucket48B42D33","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["AppSyncConstructVideoMediaBucket48B42D33","Arn"]},"/*"]]}]},{"Action":["states:DescribeExecution","states:StartExecution"],"Effect":"Allow","Resource":{"Ref":"AppSyncConstructGenerateEmbeddingsStateMachine49FB04E9"}}],"Version":"2012-10-17"},"policyName":"AppSyncConstructinvokeWorkflowFunctionServiceRoleDefaultPolicy10482C4B","roles":[{"Ref":"AppSyncConstructinvokeWorkflowFunctionServiceRole753E98EA"}]}}}}}}},"Code":{"id":"Code","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeWorkflowFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.232.1"},"children":{"Stage":{"id":"Stage","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeWorkflowFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"AssetBucket":{"id":"AssetBucket","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeWorkflowFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.232.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeWorkflowFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-132260253285-us-east-1","s3Key":"43334886176ca5a72244d85172eeb0cc8f322053acc55c7128b5a819aba693e2.zip"},"environment":{"variables":{"STATE_MACHINE_ARN":{"Ref":"AppSyncConstructGenerateEmbeddingsStateMachine49FB04E9"},"SOURCE_BUCKET_NAME":{"Ref":"AppSyncConstructVideoMediaBucket48B42D33"}}},"handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"AppSyncConstructinvokeWorkflowFunctionLogs1F8BC10C"}},"memorySize":256,"role":{"Fn::GetAtt":["AppSyncConstructinvokeWorkflowFunctionServiceRole753E98EA","Arn"]},"runtime":"nodejs22.x","tracingConfig":{"mode":"Active"}}}}}},"VideoAgentEventBus":{"id":"VideoAgentEventBus","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentEventBus","constructInfo":{"fqn":"aws-cdk-lib.aws_events.EventBus","version":"2.232.1","metadata":[{}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/VideoAgentEventBus/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnEventBus","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::EventBus","aws:cdk:cloudformation:props":{"name":"VideoAgentEventBus"}}}}},"invokeSearchCutWorkflowFunctionLogs":{"id":"invokeSearchCutWorkflowFunctionLogs","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeSearchCutWorkflowFunctionLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.232.1","metadata":[{"retention":7}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeSearchCutWorkflowFunctionLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":7}}}}},"invokeSearchCutWorkflowFunction":{"id":"invokeSearchCutWorkflowFunction","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeSearchCutWorkflowFunction","constructInfo":{"fqn":"@aws-cdk/aws-lambda-python-alpha.PythonFunction","version":"2.232.1-alpha.0","metadata":["*","*","*","*"]},"children":{"ServiceRole":{"id":"ServiceRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeSearchCutWorkflowFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeSearchCutWorkflowFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":["*"]}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeSearchCutWorkflowFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeSearchCutWorkflowFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeSearchCutWorkflowFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":"arn:aws:lambda:us-east-2:132260253285:function:SearchCutWorkflowFunction"}],"Version":"2012-10-17"},"policyName":"AppSyncConstructinvokeSearchCutWorkflowFunctionServiceRoleDefaultPolicyF53B7476","roles":[{"Ref":"AppSyncConstructinvokeSearchCutWorkflowFunctionServiceRole3642B959"}]}}}}}}},"Code":{"id":"Code","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeSearchCutWorkflowFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.232.1"},"children":{"Stage":{"id":"Stage","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeSearchCutWorkflowFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"AssetBucket":{"id":"AssetBucket","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeSearchCutWorkflowFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.232.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/AppSyncConstruct/invokeSearchCutWorkflowFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-132260253285-us-east-1","s3Key":"48e8bfbb18f3ae589518d9b38a04c658dbd942f28b65c190f482bfe74d264db3.zip"},"environment":{"variables":{"SEARCH_CUT_WORKFLOW_FUNCTION_ARN":"arn:aws:lambda:us-east-2:132260253285:function:SearchCutWorkflowFunction","TARGET_REGION":"us-east-2"}},"handler":"invoke_search_cut_workflow.handler","loggingConfig":{"logGroup":{"Ref":"AppSyncConstructinvokeSearchCutWorkflowFunctionLogsB8871918"}},"memorySize":1024,"role":{"Fn::GetAtt":["AppSyncConstructinvokeSearchCutWorkflowFunctionServiceRole3642B959","Arn"]},"runtime":"python3.13","timeout":30}}}}},"GraphQLAPIEndpoint":{"id":"GraphQLAPIEndpoint","path":"VideoAiAgentCdkStack/AppSyncConstruct/GraphQLAPIEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}}}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"VideoAiAgentCdkStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Code":{"id":"Code","path":"VideoAiAgentCdkStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.232.1"},"children":{"Stage":{"id":"Stage","path":"VideoAiAgentCdkStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"AssetBucket":{"id":"AssetBucket","path":"VideoAiAgentCdkStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.232.1","metadata":[]}}}},"ServiceRole":{"id":"ServiceRole","path":"VideoAiAgentCdkStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"VideoAiAgentCdkStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":["*"]}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"VideoAiAgentCdkStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:DeleteRetentionPolicy","logs:PutRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}}}}}}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}},"BucketNotificationsHandler050a0587b7544547bf325f094a3db834":{"id":"BucketNotificationsHandler050a0587b7544547bf325f094a3db834","path":"VideoAiAgentCdkStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Role":{"id":"Role","path":"VideoAiAgentCdkStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportRole":{"id":"ImportRole","path":"VideoAiAgentCdkStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":["*"]}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"VideoAiAgentCdkStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"s3:PutBucketNotification","Effect":"Allow","Resource":{"Fn::GetAtt":["AppSyncConstructVideoMediaBucket48B42D33","Arn"]}}],"Version":"2012-10-17"},"policyName":"BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36","roles":[{"Ref":"BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC"}]}}}}}}},"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}},"CDKMetadata":{"id":"CDKMetadata","path":"VideoAiAgentCdkStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"VideoAiAgentCdkStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}},"ExportsWriteruseast2828FA26B":{"id":"ExportsWriteruseast2828FA26B","path":"VideoAiAgentCdkStack/ExportsWriteruseast2828FA26B","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Resource":{"id":"Resource","path":"VideoAiAgentCdkStack/ExportsWriteruseast2828FA26B/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.232.1","metadata":["*"]},"children":{"Default":{"id":"Default","path":"VideoAiAgentCdkStack/ExportsWriteruseast2828FA26B/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}}}},"Custom::CrossRegionExportWriterCustomResourceProvider":{"id":"Custom::CrossRegionExportWriterCustomResourceProvider","path":"VideoAiAgentCdkStack/Custom::CrossRegionExportWriterCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.232.1"},"children":{"Staging":{"id":"Staging","path":"VideoAiAgentCdkStack/Custom::CrossRegionExportWriterCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"Role":{"id":"Role","path":"VideoAiAgentCdkStack/Custom::CrossRegionExportWriterCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}},"Handler":{"id":"Handler","path":"VideoAiAgentCdkStack/Custom::CrossRegionExportWriterCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"VideoAiAgentCdkStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.232.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"VideoAiAgentCdkStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.232.1"}}}},"SearchWorkflowStack":{"id":"SearchWorkflowStack","path":"SearchWorkflowStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.232.1"},"children":{"FfmpegLayer":{"id":"FfmpegLayer","path":"SearchWorkflowStack/FfmpegLayer","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"searchFunctionLogs":{"id":"searchFunctionLogs","path":"SearchWorkflowStack/searchFunctionLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.232.1","metadata":[{"retention":7}]},"children":{"Resource":{"id":"Resource","path":"SearchWorkflowStack/searchFunctionLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":7}}}}},"SearchCutWorkflowFunction":{"id":"SearchCutWorkflowFunction","path":"SearchWorkflowStack/SearchCutWorkflowFunction","constructInfo":{"fqn":"@aws-cdk/aws-lambda-python-alpha.PythonFunction","version":"2.232.1-alpha.0","metadata":["*","*","*","*","*","*","*"]},"children":{"ServiceRole":{"id":"ServiceRole","path":"SearchWorkflowStack/SearchCutWorkflowFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SearchWorkflowStack/SearchCutWorkflowFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":["*"]}},"Resource":{"id":"Resource","path":"SearchWorkflowStack/SearchCutWorkflowFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicDurableExecutionRolePolicy"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SearchWorkflowStack/SearchCutWorkflowFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"SearchWorkflowStack/SearchCutWorkflowFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["kms:Decrypt","s3vectors:GetVectors","s3vectors:QueryVectors","xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":["s3:GetObject","s3:ListBucket"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:s3:::",{"Fn::GetAtt":["ExportsReader8B249524","/cdk/exports/SearchWorkflowStack/VideoAiAgentCdkStackuseast1FnGetAttAppSyncConstructVideoAgentVectorBucketVectorBucketCustomResourceDACBE238VectorBucketName1CD3E0A7"]},"/*"]]},{"Fn::Join":["",["arn:aws:s3:::",{"Fn::GetAtt":["ExportsReader8B249524","/cdk/exports/SearchWorkflowStack/VideoAiAgentCdkStackuseast1FnGetAttAppSyncConstructVideoAgentVectorBucketVectorBucketCustomResourceDACBE238VectorBucketName1CD3E0A7"]}]]}]},{"Action":"bedrock:InvokeModel","Effect":"Allow","Resource":"arn:aws:bedrock:us-east-1::foundation-model/amazon.nova-2-multimodal-embeddings-v1:0"},{"Action":["s3:GetObject","s3:ListBucket","s3:PutObject"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:s3:::",{"Fn::GetAtt":["ExportsReader8B249524","/cdk/exports/SearchWorkflowStack/VideoAiAgentCdkStackuseast1RefAppSyncConstructVideoMediaBucket48B42D33E3180BE7"]},"/*"]]},{"Fn::Join":["",["arn:aws:s3:::",{"Fn::GetAtt":["ExportsReader8B249524","/cdk/exports/SearchWorkflowStack/VideoAiAgentCdkStackuseast1RefAppSyncConstructVideoMediaBucket48B42D33E3180BE7"]}]]}]},{"Action":"events:PutEvents","Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:events:us-east-1:132260253285:event-bus/",{"Fn::GetAtt":["ExportsReader8B249524","/cdk/exports/SearchWorkflowStack/VideoAiAgentCdkStackuseast1RefAppSyncConstructVideoAgentEventBus0C1232AD04358D94"]}]]}}],"Version":"2012-10-17"},"policyName":"SearchCutWorkflowFunctionServiceRoleDefaultPolicyA04876C7","roles":[{"Ref":"SearchCutWorkflowFunctionServiceRoleEFF16401"}]}}}}}}},"Code":{"id":"Code","path":"SearchWorkflowStack/SearchCutWorkflowFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.232.1"},"children":{"Stage":{"id":"Stage","path":"SearchWorkflowStack/SearchCutWorkflowFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"AssetBucket":{"id":"AssetBucket","path":"SearchWorkflowStack/SearchCutWorkflowFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.232.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"SearchWorkflowStack/SearchCutWorkflowFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-132260253285-us-east-2","s3Key":"48e8bfbb18f3ae589518d9b38a04c658dbd942f28b65c190f482bfe74d264db3.zip"},"durableConfig":{"executionTimeout":31536000,"retentionPeriodInDays":7},"environment":{"variables":{"VECTOR_BUCKET_NAME":{"Fn::GetAtt":["ExportsReader8B249524","/cdk/exports/SearchWorkflowStack/VideoAiAgentCdkStackuseast1FnGetAttAppSyncConstructVideoAgentVectorBucketVectorBucketCustomResourceDACBE238VectorBucketName1CD3E0A7"]},"VECTOR_INDEX_NAME":"video-agent-vector-index","EVENT_BUS_NAME":{"Fn::GetAtt":["ExportsReader8B249524","/cdk/exports/SearchWorkflowStack/VideoAiAgentCdkStackuseast1RefAppSyncConstructVideoAgentEventBus0C1232AD04358D94"]},"SOURCE_BUCKET_NAME":{"Fn::GetAtt":["ExportsReader8B249524","/cdk/exports/SearchWorkflowStack/VideoAiAgentCdkStackuseast1RefAppSyncConstructVideoMediaBucket48B42D33E3180BE7"]}}},"functionName":"SearchCutWorkflowFunction","handler":"search_cut_workflow.lambda_handler","layers":["arn:aws:lambda:us-east-2:132260253285:layer:ffmpeg:1"],"loggingConfig":{"logGroup":{"Ref":"searchFunctionLogs17B7ED2E"}},"memorySize":1024,"role":{"Fn::GetAtt":["SearchCutWorkflowFunctionServiceRoleEFF16401","Arn"]},"runtime":"python3.13","tracingConfig":{"mode":"Active"}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"SearchWorkflowStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"SearchWorkflowStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}},"ExportsReader":{"id":"ExportsReader","path":"SearchWorkflowStack/ExportsReader","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Resource":{"id":"Resource","path":"SearchWorkflowStack/ExportsReader/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.232.1","metadata":["*","*","*","*"]},"children":{"Default":{"id":"Default","path":"SearchWorkflowStack/ExportsReader/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}}}},"Custom::CrossRegionExportReaderCustomResourceProvider":{"id":"Custom::CrossRegionExportReaderCustomResourceProvider","path":"SearchWorkflowStack/Custom::CrossRegionExportReaderCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.232.1"},"children":{"Staging":{"id":"Staging","path":"SearchWorkflowStack/Custom::CrossRegionExportReaderCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"Role":{"id":"Role","path":"SearchWorkflowStack/Custom::CrossRegionExportReaderCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}},"Handler":{"id":"Handler","path":"SearchWorkflowStack/Custom::CrossRegionExportReaderCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"SearchWorkflowStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.232.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"SearchWorkflowStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.232.1"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"}}}}}